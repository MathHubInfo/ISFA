<?xml version='1.0' encoding='UTF-8'?>
<omdoc xml:id="A000375.omdoc" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:omdoc="http://omdoc.org/ns" xmlns="http://omdoc.org/ns">
        <!--This OMDoc file is generated from an OEIS entry, do not edit-->
        <theory name="A000375">
          <assertion class="***** TTTT *****">
      <CMP></CMP>
    </assertion><omtext class="starts-with">
      <CMP> 0,1,2,4,7,10,16,22,30,38,51,65,80,101,113,139,159</CMP>
    </omtext><omtext class="name">
      <CMP> Topswops (1): start by shuffling n cards labeled 1..n. If top card is m, reverse order of top m cards, then repeat. a(n) is the maximal number of steps before top card is 1.</CMP>
    </omtext><omtext class="comment">
      <CMP> Knuth's algorithm can be extended by considering unsorted large unmovable segments: xxx645, e.g. will never move 6, 4, or 5 [From Quan T. Nguyen, William Fahle (waf013000(AT)utdallas.edu), Oct 12 2010]</CMP>
    </omtext><omtext class="comment">
      <CMP> Contribution from Quan T. Nguyen, William Fahle (tuongquan.nguyen(AT)utdallas.edu), Oct 21 2010: (Start)</CMP>
    </omtext><omtext class="comment">
      <CMP> For n=17, there are two longest-winded permutations (or orders of cards) that take 159 steps of &quot;topswopping moves&quot; before the top card is 1.</CMP>
    </omtext><omtext class="comment">
      <CMP> (8 15 17 13 9 4 6 3 2 12 16 14 11 5 10 1 7) terminates at (1 6 2 4 9 3 7 8 5 10 11 12 13 14 15 16 17)</CMP>
    </omtext><omtext class="comment">
      <CMP> and (2 10 15 11 7 14 5 16 6 4 17 13 1 3 8 9 12) terminates in sorted order, i.e. (1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17) (End)</CMP>
    </omtext><omtext class="comment">
      <CMP> Lower bounds for the next terms are a(18)&gt;=191, a(19)&gt;=221, a(20)&gt;=249, a(21)&gt;=282, a(22)&gt;=312, a(23)&gt;=382. [_Hugo Pfoertner_, May 21 2011]</CMP>
    </omtext><omtext class="reference">
      <CMP> David Berman, M. S. Klamkin and D. E. Knuth, Problem 76-17*, A reverse card shuffle, SIAM Review 19 (1977), 739-741.</CMP>
    </omtext><omtext class="reference">
      <CMP> Martin Gardner, Time Travel and Other Mathematical Bewilderments (Freeman, 1988), Chapter 6 [based on a column that originally appeared in Scientific American, November 1974].</CMP>
    </omtext><omtext class="reference">
      <CMP> M. Klamkin, ed., Problems in Applied Mathematics: Selections from SIAM Review, SIAM, 1990; see p. 115-117.</CMP>
    </omtext><omtext class="reference">
      <CMP> D. E. Knuth, TAOCP, Section 7.2.1.2, Problems 107-109.</CMP>
    </omtext><omtext class="reference">
      <CMP> Andy Pepperdine, Topswops, Mathematical Gazette 73 (1989), 131-133.</CMP>
    </omtext><omtext class="link">
      <CMP> Kenneth Anderson and Duane Rettig, &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.35.5124&quot;&gt;Performing Lisp Analysis of the FANNKUCH Benchmark&lt;/a&gt;</CMP>
    </omtext><omtext class="link">
      <CMP> Brent Fulgham, &lt;a href=&quot;http://benchmarksgame.alioth.debian.org/u64q/performance.php?test=fannkuchredux&quot;&gt;fannkuch-redux benchmark&lt;/a&gt;, The Computer Language Benchmarks Game</CMP>
    </omtext><omtext class="link">
      <CMP> D. E. Knuth, &lt;a href=&quot;http://www-cs-faculty.stanford.edu/~knuth/programs.html&quot;&gt;Downloadable programs&lt;/a&gt;</CMP>
    </omtext><omtext class="link">
      <CMP> Klaus Nagel, &lt;a href=&quot;http://www.nagel-seite.de/Topswop/&quot;&gt;Vau&lt;/a&gt;, Java applet for Topswops visualization</CMP>
    </omtext><assertion class="example">
      <CMP> Comment from R. K. Guy, Jan 24 2007: With 4 cards there are just two permutations which require 4 flips:</CMP>
    </assertion><assertion class="example">
      <CMP> 3142 --&gt; 4132 --&gt; 2314 --&gt; 3214 --&gt; 1234</CMP>
    </assertion><assertion class="example">
      <CMP> 2413 --&gt; 4213 --&gt; 3124 --&gt; 2134 --&gt; 1234</CMP>
    </assertion><assertion class="example">
      <CMP> In these cases the deck finishes up sorted. But this is not always the case - see A000376.</CMP>
    </assertion><omtext class="program">
      <CMP> (PARI) a(n)=my(s,t,v);for(i=1,n!,v=numtoperm(n,i);t=0;while(v[1]&gt;1,v=if(v[1]&lt;n,concat(Vecrev(v[1..v[1]]),v[v[1]+1..n]),Vecrev(v));t++);s=max(s,t));s \\ _Charles R Greathouse IV_, Oct 14 2013</CMP>
    </omtext><assertion class="crossref">
      <CMP> Cf. A000376 (a variation), A123398 (number of solutions).</CMP>
    </assertion><assertion class="keywords">
      <CMP> nonn,hard,nice,more</CMP>
    </assertion><assertion class="offset">
      <CMP> 1,3</CMP>
    </assertion><assertion class="author">
      <CMP> _Bill Blewett_ and Mike Toepke [mtoepke(AT)microsoft.com]</CMP>
    </assertion><assertion class="extensions">
      <CMP> One more term from James Kilfiger (mapdn(AT)csv.warwick.ac.uk), July 1997</CMP>
    </assertion><assertion class="extensions">
      <CMP> 113 from _William Rex Marshall_, Mar 27 2001</CMP>
    </assertion><assertion class="extensions">
      <CMP> 139 from D. E. Knuth, Aug 25 2001</CMP>
    </assertion><assertion class="extensions">
      <CMP> Added one new term by improved branch and bound using various new insights. - Quan T. Nguyen, William Fahle (waf013000(AT)utdallas.edu), Oct 12 2010</CMP>
    </assertion><assertion class="extensions">
      <CMP> Comment with lower bounds for a(18)-a(23) and link to Klaus Nagel's Java applet from _Hugo Pfoertner_, May 21 2011</CMP>
    </assertion>
        </theory>
      </omdoc>